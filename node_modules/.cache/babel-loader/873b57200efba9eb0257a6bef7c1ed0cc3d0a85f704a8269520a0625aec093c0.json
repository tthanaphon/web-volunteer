{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bowvy\\\\project volunteer\\\\web-volunteer\\\\src\\\\Front-end\\\\ListRegisterpage.js\",\n  _s = $RefreshSig$();\nimport Sidebar from './Sidebar';\nimport React, { useState, useEffect } from 'react';\nimport { Box, TextField, Typography, List, ListItem, ListItemText, MenuItem, Pagination } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ListRegis = () => {\n  _s();\n  const [events, setEvents] = useState([]);\n  const [registrations, setRegistrations] = useState([]);\n  const [selectedEventId, setSelectedEventId] = useState(null);\n  const fetchEvents = async () => {\n    try {\n      const response = await fetch('http://127.0.0.1:8000/api/events/');\n      const data = await response.json();\n      setEvents(data);\n    } catch (error) {\n      console.error('Error fetching events:', error);\n    }\n  };\n  const fetchRegistrations = async eventId => {\n    try {\n      const response = await fetch(`http://127.0.0.1:8000/api/registers/?eventId=${eventId}`);\n      const data = await response.json();\n      setRegistrations(data);\n    } catch (error) {\n      console.error('Error fetching registrations:', error);\n    }\n  };\n  useEffect(() => {\n    fetchEvents();\n  }, []);\n  useEffect(() => {\n    if (selectedEventId) {\n      fetchRegistrations(selectedEventId);\n    }\n  }, [selectedEventId]);\n  const handleEventSelect = event => {\n    setSelectedEventId(event.target.value);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      children: \"Registrations\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Select Event\",\n      select: true,\n      value: selectedEventId || '',\n      onChange: handleEventSelect,\n      fullWidth: true,\n      children: events.map(event => /*#__PURE__*/_jsxDEV(MenuItem, {\n        value: event.id,\n        children: event.name\n      }, event.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      children: registrations.map(registration => /*#__PURE__*/_jsxDEV(ListItem, {\n        children: /*#__PURE__*/_jsxDEV(ListItemText, {\n          primary: registration.name,\n          secondary: registration.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)\n      }, registration.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      count: 10\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(ListRegis, \"eGuOy+A+QtPqj+Duj2uCYcifRTE=\");\n_c = ListRegis;\nexport default ListRegis;\nvar _c;\n$RefreshReg$(_c, \"ListRegis\");","map":{"version":3,"names":["Sidebar","React","useState","useEffect","Box","TextField","Typography","List","ListItem","ListItemText","MenuItem","Pagination","jsxDEV","_jsxDEV","ListRegis","_s","events","setEvents","registrations","setRegistrations","selectedEventId","setSelectedEventId","fetchEvents","response","fetch","data","json","error","console","fetchRegistrations","eventId","handleEventSelect","event","target","value","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","label","select","onChange","fullWidth","map","id","name","registration","primary","secondary","email","count","_c","$RefreshReg$"],"sources":["C:/Users/bowvy/project volunteer/web-volunteer/src/Front-end/ListRegisterpage.js"],"sourcesContent":["import Sidebar from './Sidebar';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Box, TextField, Typography, List, ListItem, ListItemText, MenuItem, Pagination } from '@mui/material';\r\n\r\nconst ListRegis = () => {\r\n  const [events, setEvents] = useState([]);\r\n  const [registrations, setRegistrations] = useState([]);\r\n  const [selectedEventId, setSelectedEventId] = useState(null);\r\n\r\n  const fetchEvents = async () => {\r\n    try {\r\n      const response = await fetch('http://127.0.0.1:8000/api/events/');\r\n      const data = await response.json();\r\n      setEvents(data);\r\n    } catch (error) {\r\n      console.error('Error fetching events:', error);\r\n    }\r\n  };\r\n\r\n  const fetchRegistrations = async (eventId) => {\r\n    try {\r\n      const response = await fetch(`http://127.0.0.1:8000/api/registers/?eventId=${eventId}`);\r\n      const data = await response.json();\r\n      setRegistrations(data);\r\n    } catch (error) {\r\n      console.error('Error fetching registrations:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchEvents();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedEventId) {\r\n      fetchRegistrations(selectedEventId);\r\n    }\r\n  }, [selectedEventId]);\r\n\r\n  const handleEventSelect = (event) => {\r\n    setSelectedEventId(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      <Typography variant=\"h4\">Registrations</Typography>\r\n      <TextField\r\n        label=\"Select Event\"\r\n        select\r\n        value={selectedEventId || ''}\r\n        onChange={handleEventSelect}\r\n        fullWidth\r\n      >\r\n        {events.map((event) => (\r\n          <MenuItem key={event.id} value={event.id}>\r\n            {event.name}\r\n          </MenuItem>\r\n        ))}\r\n      </TextField>\r\n      <List>\r\n        {registrations.map((registration) => (\r\n          <ListItem key={registration.id}>\r\n            <ListItemText primary={registration.name} secondary={registration.email} />\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n      <Pagination count={10} />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ListRegis;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}